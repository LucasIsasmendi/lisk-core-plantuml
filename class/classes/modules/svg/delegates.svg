<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="774px" preserveAspectRatio="none" style="width:358px;height:774px;" version="1.1" viewBox="0 0 358 774" width="358px" zoomAndPan="magnify"><defs><linearGradient id="glp3cphuo5fkd0" x1="0%" x2="100%" y1="50%" y2="50%"><stop offset="0%" stop-color="#F0F8FF"/><stop offset="100%" stop-color="#ADD8E6"/></linearGradient><filter height="300%" id="flp3cphuo5fkd" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--class Delegates--><rect fill="url(#glp3cphuo5fkd0)" filter="url(#flp3cphuo5fkd)" height="757.8555" id="Delegates" style="stroke: #00008B; stroke-width: 1.5;" width="343" x="6" y="8"/><ellipse cx="112.25" cy="24" fill="#ADD1B2" rx="11" ry="11" style="stroke: #00008B; stroke-width: 1.0;"/><path d="M115.2188,29.6406 Q114.6406,29.9375 114,30.0859 Q113.3594,30.2344 112.6563,30.2344 Q110.1563,30.2344 108.8359,28.5859 Q107.5156,26.9375 107.5156,23.8125 Q107.5156,20.6875 108.8359,19.0313 Q110.1563,17.375 112.6563,17.375 Q113.3594,17.375 114.0078,17.5313 Q114.6563,17.6875 115.2188,17.9844 L115.2188,20.7031 Q114.5938,20.125 114,19.8516 Q113.4063,19.5781 112.7813,19.5781 Q111.4375,19.5781 110.75,20.6484 Q110.0625,21.7188 110.0625,23.8125 Q110.0625,25.9063 110.75,26.9766 Q111.4375,28.0469 112.7813,28.0469 Q113.4063,28.0469 114,27.7734 Q114.5938,27.5 115.2188,26.9219 L115.2188,29.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="64" x="132.75" y="28.1543">Delegates</text><rect fill="#FFFFFF" height="15.9688" style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" width="56" x="296" y="5"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="46" x="301" y="17.1387">module</text><line style="stroke: #00008B; stroke-width: 1.5;" x1="7" x2="348" y1="40" y2="40"/><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="48.9023"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="219" x="26" y="54.2104">assetTypes[2]: new Delegate(schema)</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="61.707"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="73" x="26" y="67.0151">__private: {}</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="74.5117"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="50" x="26" y="79.8198">self: this</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="104.1211"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="36" x="26" y="109.4292">logger</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="116.9258"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="55" x="26" y="122.2339">sequence</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="129.7305"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14" x="26" y="135.0386">ed</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="142.5352"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14" x="26" y="147.8433">db</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="155.3398"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="45" x="26" y="160.6479">network</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="168.1445"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="45" x="26" y="173.4526">schema</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="180.9492"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="107" x="26" y="186.2573">balancesSequence</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="193.7539"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="94" x="26" y="199.062">logic.transaction</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="206.5586"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="118" x="26" y="211.8667">config.forging.secret</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="219.3633"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="176" x="26" y="224.6714">config.forging.access.whiteList</text><line style="stroke: #00008B; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="7" x2="159.5" y1="92.8164" y2="92.8164"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="36" x="159.5" y="96.1245">library</text><line style="stroke: #00008B; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="195.5" x2="348" y1="92.8164" y2="92.8164"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="248.9727"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="36" x="26" y="254.2808">loader</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="261.7773"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="40" x="26" y="267.0854">rounds</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="274.582"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="51" x="26" y="279.8901">accounts</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="287.3867"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="36" x="26" y="292.6948">blocks</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="300.1914"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="53" x="26" y="305.4995">transport</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="312.9961"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="71" x="26" y="318.3042">transactions</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="325.8008"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="56" x="26" y="331.1089">delegates</text><line style="stroke: #00008B; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="7" x2="153" y1="237.668" y2="237.668"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="49" x="153" y="240.9761">modules</text><line style="stroke: #00008B; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="202" x2="348" y1="237.668" y2="237.668"/><ellipse cx="17" cy="358.4102" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="120" x="26" y="360.7183">Delegates(cb, scope)</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="368.2148"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="129" x="26" y="373.5229">getKeysSortByVote(cb)</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="381.0195"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="185" x="26" y="386.3276">getBlockSlotData(slot, height, cb</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="393.8242"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="51" x="26" y="399.1323">forge(cb)</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="406.6289"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="247" x="26" y="411.937">checkDelegates(publicKey, votes, state, cb)</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="419.4336"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="102" x="26" y="424.7417">loadDelegates(cb)</text><ellipse cx="17" cy="435.2383" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="185" x="26" y="437.5464">generateDelegateList(height, cb)</text><ellipse cx="17" cy="448.043" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="136" x="26" y="450.3511">getDelegates(query, cb)</text><ellipse cx="17" cy="460.8477" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="269" x="26" y="463.1558">checkConfirmedDelegates(publicKey, votes, cb)</text><ellipse cx="17" cy="473.6523" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="282" x="26" y="475.9604">checkUnconfirmedDelegates(publicKey, votes, cb)</text><ellipse cx="17" cy="486.457" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="101" x="26" y="488.7651">fork(block, cause)</text><ellipse cx="17" cy="499.2617" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="154" x="26" y="501.5698">validateBlockSlot(block, cb)</text><ellipse cx="17" cy="512.0664" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="147" x="26" y="514.3745">sandboxApi(call, args, cb)</text><ellipse cx="17" cy="524.8711" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="81" x="26" y="527.1792">onBind(scope)</text><line style="stroke: #00008B; stroke-width: 1.0;" x1="7" x2="153.5" y1="344.1055" y2="344.1055"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="48" x="153.5" y="347.4136">Methods</text><line style="stroke: #00008B; stroke-width: 1.0;" x1="201.5" x2="348" y1="344.1055" y2="344.1055"/><line style="stroke: #00008B; stroke-width: 1.0;" x1="7" x2="169" y1="540.1758" y2="540.1758"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="17" x="169" y="543.4839">API</text><line style="stroke: #00008B; stroke-width: 1.0;" x1="186" x2="348" y1="540.1758" y2="540.1758"/><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="570.6875"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="204" x="26" y="575.9956">forgingEnable(secret, publicKey, cb)</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="583.4922"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="204" x="26" y="588.8003">forgingDisable(secret, publicKey,cb)</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="596.2969"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="159" x="26" y="601.605">forgingStatus(publicKey, cb)</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="609.1016"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="126" x="26" y="614.4097">forgingEnableAll(*, cb)</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="621.9063"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="130" x="26" y="627.2144">forgingDisableAll(*, cb)</text><line style="stroke: #00008B; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="7" x2="156" y1="559.3828" y2="559.3828"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="43" x="156" y="562.6909">internal</text><line style="stroke: #00008B; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="199" x2="348" y1="559.3828" y2="559.3828"/><ellipse cx="17" cy="654.5156" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="216" x="26" y="656.8237">getDelegate(publicKey, username, cb)</text><ellipse cx="17" cy="667.3203" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="140" x="26" y="669.6284">getNextForgers(limit, cb)</text><ellipse cx="17" cy="680.125" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="160" x="26" y="682.4331">search(orderBy, q, limit, cb)</text><ellipse cx="17" cy="692.9297" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="66" x="26" y="695.2378">count(*, cb)</text><ellipse cx="17" cy="705.7344" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="137" x="26" y="708.0425">getVoters(publicKey, cb)</text><ellipse cx="17" cy="718.5391" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="149" x="26" y="720.8472">getDelegates(schema, cb)</text><ellipse cx="17" cy="731.3438" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="73" x="26" y="733.6519">getFee(*, cb)</text><ellipse cx="17" cy="744.1484" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="317" x="26" y="746.4565">getForgedByAccount(start, end, generatorPublicKey, cb)</text><ellipse cx="17" cy="756.9531" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="197" x="26" y="759.2612">addDelegate(secret, publicKey, cb)</text><line style="stroke: #00008B; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="7" x2="157.5" y1="640.2109" y2="640.2109"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="40" x="157.5" y="643.519">shared</text><line style="stroke: #00008B; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="197.5" x2="348" y1="640.2109" y2="640.2109"/><!--
@startuml
skinparam class {
	BackgroundColor AliceBlue|LightBlue
	ArrowColor Black
	BorderColor DarkBlue
}
class Delegates < module > {
  - assetTypes[2]: new Delegate(schema)
  - __private: {}
  - self: this
  .. library..
  - logger
  - sequence
  - ed
  - db
  - network
  - schema
  - balancesSequence
  - logic.transaction
  - config.forging.secret
  - config.forging.access.whiteList
  .. modules..
  - loader
  - rounds
  - accounts
  - blocks
  - transport
  - transactions
  - delegates
  - - Methods - -
  + Delegates(cb, scope)
  - getKeysSortByVote(cb)
  - getBlockSlotData(slot, height, cb
  - forge(cb)
  - checkDelegates(publicKey, votes, state, cb)
  - loadDelegates(cb)
  + generateDelegateList(height, cb)
  + getDelegates(query, cb)
  + checkConfirmedDelegates(publicKey, votes, cb)
  + checkUnconfirmedDelegates(publicKey, votes, cb)
  + fork(block, cause)
  + validateBlockSlot(block, cb)
  + sandboxApi(call, args, cb)
  + onBind(scope)
  - - API - -
  .. internal ..
  - forgingEnable(secret, publicKey, cb)
  - forgingDisable(secret, publicKey,cb)
  - forgingStatus(publicKey, cb)
  - forgingEnableAll(*, cb)
  - forgingDisableAll(*, cb)
  .. shared ..
  + getDelegate(publicKey, username, cb)
  + getNextForgers(limit, cb)
  + search(orderBy, q, limit, cb)
  + count(*, cb)
  + getVoters(publicKey, cb)
  + getDelegates(schema, cb)
  + getFee(*, cb)
  + getForgedByAccount(start, end, generatorPublicKey, cb)
  + addDelegate(secret, publicKey, cb)
}
@enduml

PlantUML version 1.2017.12(Wed Apr 26 13:06:36 ART 2017)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_131-b11
Operating System: Linux
OS Version: 3.13.0-119-generic
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>