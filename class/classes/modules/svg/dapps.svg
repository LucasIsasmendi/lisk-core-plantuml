<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="728px" preserveAspectRatio="none" style="width:358px;height:728px;" version="1.1" viewBox="0 0 358 728" width="358px" zoomAndPan="magnify"><defs><linearGradient id="g2q5r236fb0hm0" x1="0%" x2="100%" y1="50%" y2="50%"><stop offset="0%" stop-color="#F0F8FF"/><stop offset="100%" stop-color="#ADD8E6"/></linearGradient><filter height="300%" id="f2q5r236fb0hm" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--class DApps--><rect fill="url(#g2q5r236fb0hm0)" filter="url(#f2q5r236fb0hm)" height="711.4414" id="DApps" style="stroke: #00008B; stroke-width: 1.5;" width="343" x="6" y="8.5"/><ellipse cx="121.25" cy="24.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #00008B; stroke-width: 1.0;"/><path d="M124.2188,30.1406 Q123.6406,30.4375 123,30.5859 Q122.3594,30.7344 121.6563,30.7344 Q119.1563,30.7344 117.8359,29.0859 Q116.5156,27.4375 116.5156,24.3125 Q116.5156,21.1875 117.8359,19.5313 Q119.1563,17.875 121.6563,17.875 Q122.3594,17.875 123.0078,18.0313 Q123.6563,18.1875 124.2188,18.4844 L124.2188,21.2031 Q123.5938,20.625 123,20.3516 Q122.4063,20.0781 121.7813,20.0781 Q120.4375,20.0781 119.75,21.1484 Q119.0625,22.2188 119.0625,24.3125 Q119.0625,26.4063 119.75,27.4766 Q120.4375,28.5469 121.7813,28.5469 Q122.4063,28.5469 123,28.2734 Q123.5938,28 124.2188,27.4219 L124.2188,30.1406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="40" x="141.75" y="28.6543">DApps</text><rect fill="#FFFFFF" height="15.9688" style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" width="62" x="290" y="5.5"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="52" x="295" y="17.6387">modules</text><line style="stroke: #00008B; stroke-width: 1.5;" x1="7" x2="348" y1="40.5" y2="40.5"/><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="49.4023"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="317" x="26" y="54.7104">assetTypes[5]: new DApp(db, logger, schema, network)</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="62.207"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="250" x="26" y="67.5151">assetTypes[6]: new InTransfer(db, schema)</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="75.0117"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="304" x="26" y="80.3198">assetTypes[7]: new OutTransfer(db, schema, logger)</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="87.8164"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="73" x="26" y="93.1245">__private: {}</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="100.6211"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="50" x="26" y="105.9292">self: this</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="113.4258"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="82" x="26" y="118.7339">internal: {API}</text><ellipse cx="17" cy="129.2305" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="79" x="26" y="131.5386">shared: {API}</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="155.8398"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="94" x="26" y="161.1479">logic.transaction</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="168.6445"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="36" x="26" y="173.9526">logger</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="181.4492"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14" x="26" y="186.7573">db</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="194.2539"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="33" x="26" y="199.562">public</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="207.0586"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="45" x="26" y="212.3667">network</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="219.8633"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="45" x="26" y="225.1714">schema</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="232.668"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="66" x="26" y="237.9761">config.dapp</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="245.4727"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14" x="26" y="250.7808">ed</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="258.2773"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="107" x="26" y="263.5854">balancesSequence</text><line style="stroke: #00008B; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="7" x2="159.5" y1="144.5352" y2="144.5352"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="36" x="159.5" y="147.8433">library</text><line style="stroke: #00008B; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="195.5" x2="348" y1="144.5352" y2="144.5352"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="287.8867"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="71" x="26" y="293.1948">transactions</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="300.6914"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="51" x="26" y="305.9995">accounts</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="313.4961"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="33" x="26" y="318.8042">peers</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="326.3008"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="17" x="26" y="331.6089">sql</text><line style="stroke: #00008B; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="7" x2="153" y1="276.582" y2="276.582"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="49" x="153" y="279.8901">modules</text><line style="stroke: #00008B; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="202" x2="348" y1="276.582" y2="276.582"/><ellipse cx="17" cy="358.9102" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="99" x="26" y="361.2183">DApps(cb, scope)</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="368.7148"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="57" x="26" y="374.0229">get(id, cb)</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="381.5195"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="95" x="26" y="386.8276">getByIds(ids, cb)</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="394.3242"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="72" x="26" y="399.6323">list(filter, cb)</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="407.1289"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="118" x="26" y="412.437">createBasePaths(cb)</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="419.9336"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="171" x="26" y="425.2417">installDependencies(dapp, cb)</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="432.7383"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="104" x="26" y="438.0464">getInstalledIds(cb)</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="445.543"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="129" x="26" y="450.8511">removeDApp(dapp, cb)</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="458.3477"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="194" x="26" y="463.6558">downloadLink(dapp, dappPath, cb)</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="471.1523"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="120" x="26" y="476.4604">installDApp(dapp, cb)</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="483.957"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="137" x="26" y="489.2651">createSymlink(dapp, cb)</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="496.7617"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="175" x="26" y="502.0698">apiHandler(message, callback)</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="509.5664"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="132" x="26" y="514.8745">createRoutes(dapp, cb)</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="522.3711"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="122" x="26" y="527.6792">launchDApp(body, cb)</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="535.1758"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="194" x="26" y="540.4839">createSandbox(dapp, params, cb)</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="547.9805"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="111" x="26" y="553.2886">stopDApp(dapp, cb)</text><ellipse cx="17" cy="563.7852" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="147" x="26" y="566.0933">sandboxApi(call, args, cb)</text><ellipse cx="17" cy="576.5898" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="155" x="26" y="578.8979">message(dappid, body, cb)</text><ellipse cx="17" cy="589.3945" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="235" x="26" y="591.7026">request(dappid, method, path, query, cb)</text><ellipse cx="17" cy="602.1992" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="85" x="26" y="604.5073">onBind (scope)</text><ellipse cx="17" cy="615.0039" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="116" x="26" y="617.312">onBlockchainReady()</text><ellipse cx="17" cy="627.8086" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="162" x="26" y="630.1167">onDeleteBlocksBefore(block)</text><ellipse cx="17" cy="640.6133" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="170" x="26" y="642.9214">onNewBlock(block, broadcast)</text><ellipse cx="17" cy="653.418" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="59" x="26" y="655.7261">isLoaded()</text><line style="stroke: #00008B; stroke-width: 1.0;" x1="7" x2="153.5" y1="344.6055" y2="344.6055"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="48" x="153.5" y="347.9136">Methods</text><line style="stroke: #00008B; stroke-width: 1.0;" x1="201.5" x2="348" y1="344.6055" y2="344.6055"/><line style="stroke: #00008B; stroke-width: 1.0;" x1="7" x2="169" y1="668.7227" y2="668.7227"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="17" x="169" y="672.0308">API</text><line style="stroke: #00008B; stroke-width: 1.0;" x1="186" x2="348" y1="668.7227" y2="668.7227"/><line style="stroke: #00008B; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="7" x2="156" y1="687.9297" y2="687.9297"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="43" x="156" y="691.2378">internal</text><line style="stroke: #00008B; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="199" x2="348" y1="687.9297" y2="687.9297"/><line style="stroke: #00008B; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="7" x2="157.5" y1="707.1367" y2="707.1367"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="40" x="157.5" y="710.4448">shared</text><line style="stroke: #00008B; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="197.5" x2="348" y1="707.1367" y2="707.1367"/><!--
@startuml
skinparam class {
	BackgroundColor AliceBlue|LightBlue
	ArrowColor Black
	BorderColor DarkBlue
}
class DApps < modules > {
  - assetTypes[5]: new DApp(db, logger, schema, network)
  - assetTypes[6]: new InTransfer(db, schema)
  - assetTypes[7]: new OutTransfer(db, schema, logger)
  - __private: {}
  - self: this
  - internal: {API}
  + shared: {API}
  .. library ..
  - logic.transaction
  - logger
  - db
  - public
  - network
  - schema
  - config.dapp
  - ed
  - balancesSequence
  .. modules ..
  - transactions
  - accounts
  - peers
  - sql
  - - Methods - -
  + DApps(cb, scope)
  - get(id, cb)
  - getByIds(ids, cb)
  - list(filter, cb)
  - createBasePaths(cb)
  - installDependencies(dapp, cb)
  - getInstalledIds(cb)
  - removeDApp(dapp, cb)
  - downloadLink(dapp, dappPath, cb)
  - installDApp(dapp, cb)
  - createSymlink(dapp, cb)
  - apiHandler(message, callback)
  - createRoutes(dapp, cb)
  - launchDApp(body, cb)
  - createSandbox(dapp, params, cb)
  - stopDApp(dapp, cb)
  + sandboxApi(call, args, cb)
  + message(dappid, body, cb)
  + request(dappid, method, path, query, cb)
  + onBind (scope)
  + onBlockchainReady()
  + onDeleteBlocksBefore(block)
  + onNewBlock(block, broadcast)
  + isLoaded()
  - - API - -
  .. internal ..
  .. shared ..
}
@enduml

PlantUML version 1.2017.12(Wed Apr 26 13:06:36 ART 2017)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_131-b11
Operating System: Linux
OS Version: 3.13.0-119-generic
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>